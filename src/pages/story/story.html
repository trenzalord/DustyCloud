<!--
  Generated template for the StoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label>Title</ion-label>
      <h2 item-right>{{ (story | async)?.title}}</h2>
    </ion-item>
    <ion-item>
      <ion-label>Category</ion-label>
      <h2 item-right>{{ (story | async)?.category || "NONE"}}</h2>
    </ion-item>
    <ion-item>
      <ion-label>Description</ion-label>
      <p item-right>{{ (story | async)?.description }}</p>
    </ion-item>
    <ion-item>
      <ion-label>Event Date</ion-label>
      <p item-right>{{ (story | async)?.eventDate | date }}</p>
    </ion-item>
    <button ion-item (click)="goToProfile()">
      <ion-label>Author</ion-label>
      <span item-right>{{ (user | async)?.publicName }}</span>
    </button>
    <ion-item *ngIf="!hasReacted">
      Reaction
      <button item-right ion-button *ngFor="let reactionKey of reactionKeys" (click)="addReaction(reactionKey)">{{ reactionKey }}</button>
    </ion-item>
    <ion-item *ngFor="let reactionKey of reactionKeys">
      {{ reactionCount(reactionKey) }} people {{ reactionKey }} this
    </ion-item>
    <ion-item *ngIf="hasReacted">
      You {{ userReaction }} this
      <button ion-button item-right (click)="removeReaction()">Remove</button>
    </ion-item>
  </ion-list>
  <button ion-button block (click)="dismiss()">Back</button>
</ion-content>
